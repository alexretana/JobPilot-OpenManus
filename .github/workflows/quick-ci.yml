name: ⚡ Quick CI

on:
  push:
    branches: [ main, develop, feature/* ]
  pull_request:
    branches: [ main, develop ]

jobs:
  quick-test:
    runs-on: ubuntu-latest
    
    steps:
    - name: 📥 Checkout
      uses: actions/checkout@v4

    - name: 🐍 Setup Python 3.12
      uses: actions/setup-python@v4
      with:
        python-version: 3.12

    - name: 📦 Install core dependencies
      run: |
        python -m pip install --upgrade pip
        pip install fastapi pydantic sqlalchemy pytest

    - name: 🔍 Syntax Check
      run: |
        echo "Checking Python syntax..."
        python -m py_compile app/api/user_profiles.py
        python -m py_compile app/data/database.py
        python -m py_compile app/data/models.py
        echo "✅ Syntax check passed"

    - name: 🧪 Quick User Profiles Test
      run: |
        echo "Running user profiles validation..."
        python -c "
        from app.data.models import UserProfile, JobType, RemoteType
        from app.api.user_profiles import UserProfileCreate, UserProfileResponse
        print('✅ User Profiles models imported successfully')
        print('✅ API models validated')
        "

    - name: ⚡ Status
      run: echo "✅ Quick validation passed!"
